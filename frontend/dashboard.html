<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CareerCraft – Dashboard</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <div class="page-container">

    <div class="main-content">
      <header class="logo">
        <span class="logo-icon">Cō</span>
        <span class="logo-text">CareerCraft</span>
      </header>

      <div class="hero-text">
        <p class="subtitle">DISCOVER YOUR EDGE</p>
        <p class="steps">STEP INTO YOUR</p>
        <h1>FUTURE</h1>
        <p class="smartly">SMARTLY</p>
      </div>

      <div class="feature-cards">
        <div class="card skill-analysis">
          <p class="title">Skill Analysis</p>
          <p class="description">Understand where you stand</p>
        </div>
        <div class="card resume-builder">
          <p class="title">Resume Builder</p>
          <p class="description">Build your future-ready profile.</p>
        </div>
      </div>
    </div>

    <div class="interaction-area">
      <!-- Same robot image -->
      <img src="assets/Robot.png" alt="Friendly AI Robot waving" class="robot-image">

      <div class="dialogue-box">
        <p id="greetingText">Hi! What would you like to do today?</p>

        <div class="options-grid">
          <button class="action-card">Create new chat</button>
          <button class="action-card">Upload new resume</button>
          <button class="action-card">Upload new JD</button>
          <button class="action-card">Check history</button>
        </div>
      </div>

      <div class="sidebar-1">
        <p class="sidebar-text ai-powered">AI-POWERED</p>
      </div>
      <div class="sidebar-2">
        <p class="sidebar-text guided-by-data">GUIDED BY DATA</p>
      </div>
    </div>

  </div>

 <script>
  (function(){
    const logged = localStorage.getItem('cc_logged_in');
    if (logged !== '1') {
      // if not logged in, push to login page
      window.location.href = 'login.html';
      return;
    }
    const name = localStorage.getItem('cc_user_name') || '';
    const greetingEl = document.getElementById("greetingText");
    if (greetingEl && name) greetingEl.textContent = `Hi ${name}! What would you like to do today?`;

    // Wire "Check history" button
    document.querySelectorAll('.action-card').forEach(btn => {
      if (btn.textContent.trim().toLowerCase().includes('history')) {
         btn.addEventListener('click', openHistory);
      } else if (btn.textContent.trim().toLowerCase().includes('upload new resume')) {
         btn.addEventListener('click', () => window.location.href = 'dashboard.html#uploadResume'); // update as needed
      } else if (btn.textContent.trim().toLowerCase().includes('create new chat')) {
         btn.addEventListener('click', openAnalyzer); // if you build analyze page
      }
    });

    function openAnalyzer() {
  window.open("http://localhost:8501/?page=analyze", "_blank");
}

function openHistory() {
  window.open("http://localhost:8501/?page=history", "_blank");
}

  })();
</script>

</body>
</html>
